<!DOCTYPE html>
<html>
<head>
  <title>Word Translator</title>
</head>
<body>
<h1>Word Translator</h1>
<div>
  <p id="wordDisplay"></p>
  <button onclick="toggleSynonyms()">Toggle Synonyms</button>
  <button onclick="nextWord()">Next Word</button>
  <button onclick="displayTranslation()">Show Translation</button>
  <button onclick="toggleShowSynonyms()">Show/Hide Synonyms</button>
</div>
<div>
  <input type="text" id="newWord" placeholder="Enter English word">
  <input type="text" id="newTranslation" placeholder="Enter Russian translation">
  <input type="text" id="newSynonyms" placeholder="Enter synonyms separated by commas">
  <button onclick="addWordPair()">Add Word Pair</button>
</div>
<div id="errorMessage"></div>
<script>
  // Object for both word pairs and synonyms
  let wordData = {
    "hello": {
      translation: "привет",
      synonyms: ["hi", "hey", "greetings"]
    },
    "world": {
      translation: "мир",
      synonyms: ["earth", "globe", "planet"]
    },
    "goodbye": {
      translation: "пока",
      synonyms: ["farewell", "bye", "see you"]
    },
    "house": {
      translation: "дом",
      synonyms: ["home", "residence", "dwelling"]
    },
    // Add more word pairs as needed
  };

  let showSynonyms = true;
  let showTranslationMode = false;
  let currentIndex = 0;

  function getRandomWord() {
    const words = Object.keys(wordData);
    const randomIndex = Math.floor(Math.random() * words.length);
    return words[randomIndex];
  }

  function displayWord() {
    const wordDisplay = document.getElementById("wordDisplay");
    const word = Object.keys(wordData)[currentIndex];

    if (showTranslationMode) {
      const synonymsDisplay = showSynonyms ? `- ${wordData[word].synonyms.join(", ")}` : "";
      wordDisplay.innerHTML = `<strong>${word}</strong> ${synonymsDisplay} - ${wordData[word].translation}`;
    } else {
      wordDisplay.innerText = showSynonyms ? `${word} - ${wordData[word].synonyms.join(", ")}` : word;
    }
  }

  function toggleSynonyms() {
    showSynonyms = !showSynonyms;
    displayWord();
  }

  function toggleShowSynonyms() {
    showSynonyms = !showSynonyms;
    displayWord();
  }

  function nextWord() {
    currentIndex = (currentIndex + 1) % Object.keys(wordData).length;
    showTranslationMode = false; // Reset to default
    displayWord();
  }

  function displayTranslation() {
    showTranslationMode = true;
    displayWord();
  }

  function addWordPair() {
    const newWordInput = document.getElementById("newWord");
    const newTranslationInput = document.getElementById("newTranslation");
    const newSynonymsInput = document.getElementById("newSynonyms");
    const newWord = newWordInput.value.trim().toLowerCase();
    const newTranslation = newTranslationInput.value.trim();
    const newSynonyms = newSynonymsInput.value.split(",").map(synonym => synonym.trim().toLowerCase());

    if (newWord !== "" && newTranslation !== "") {
      wordData[newWord] = {
        translation: newTranslation,
        synonyms: []
      };

      for (const synonym of newSynonyms) {
        if (wordData.hasOwnProperty(synonym)) {
          wordData[newWord].synonyms.push(synonym);
        } else {
          const errorMessageDiv = document.getElementById("errorMessage");
          errorMessageDiv.innerText = `Warning: Synonym "${synonym}" doesn't exist as an English word. It will not be added.`;
          setTimeout(() => {
            errorMessageDiv.innerText = ""; // Clear the error message after a few seconds
          }, 3000);
        }
      }

      newWordInput.value = "";
      newTranslationInput.value = "";
      newSynonymsInput.value = "";

      displayWord(); // Update the displayed word after adding new word pair
    }
  }

  // Initial display
  displayWord();
</script>
</body>
</html>
